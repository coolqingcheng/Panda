@page "/{pageIndex:int=1}"
@using QingCheng.Site.Models
@model QingCheng.Site.Pages.Home.HomeModel
@using QingCheng.Site.Services;
@using QingCheng.Site.Services.Blogs
@inject PostCateService postCateService;
@{
    var cateList = await postCateService.GetCateList(20);
    var cateRankList = new RankListModel()
    {
        Title = "分类",
        RankList = cateList.Select(a => new RankListItem()
        {
            Text = a.CateName,
            Url = $"/cate/{a.Id}-1"
        }).ToList()
    };
}
<div class="row">
    <div class="col-12 col-xs-12 col-sm-12 col-md-12 col-lg-8">
        <div class="d-flex flex-column shadow-sm bg-white p-3">
            <p class="item-title pt-2 pb-4 ">最新更新</p>
            @await Html.PartialAsync("Partial/_PostItemView", Model.list)

            @await Html.PartialAsync("Partial/_PageView", new PageViewModel(total: Model.Total, 10, Model.PageIndex, (index) => $"/{index}"))
        </div>
    </div>
    <div class="col-12 col-xs-12 col-sm-12 col-md-12 col-lg-4 ">
        <partial name="Partial/_RankList" model="cateRankList" />
    </div>
</div>

@section js{
    <script></script>
}