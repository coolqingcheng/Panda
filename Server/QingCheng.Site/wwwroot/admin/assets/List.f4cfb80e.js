import{d as P,a as k,k as h,r as L,l as x,X as N,n as R,h as n,i as V,o as p,p as c,f as t,j as f,e,q as d,t as $,s as A,w as U,C as w,S as j,T as q}from"./index.5c376344.js";const H=P({__name:"List",setup(M){const _=k(!1),y=h(),C=u=>{console.log(u),y.push({name:"\u53CB\u60C5\u94FE\u63A5-\u7F16\u8F91",state:{item:{...u}}})},o=L({index:1,pageSize:10});x(()=>o.index,()=>i()),x(()=>o.pageSize,()=>i());const g=k({total:0}),i=()=>{_.value=!0,N.getList({index:1,pageSize:20}).then(u=>{g.value=u}).finally(()=>{_.value=!1})};return R(()=>{i()}),(u,a)=>{const r=n("ElButton"),m=n("ElSpace"),F=n("ElCol"),S=n("ElRow"),s=n("ElTableColumn"),E=n("ElTag"),z=n("ElTable"),T=n("ElPagination"),B=n("ElCard"),D=V("loading");return p(),c(B,null,{header:t(()=>[f(" \u53CB\u60C5\u94FE\u63A5 ")]),default:t(()=>{var v,b;return[e(S,null,{default:t(()=>[e(F,null,{default:t(()=>[e(m,null,{default:t(()=>[e(r,{icon:d($),onClick:a[0]||(a[0]=l=>i())},null,8,["icon"]),e(r,{icon:d(A),onClick:a[1]||(a[1]=l=>C(null)),type:"primary"},null,8,["icon"])]),_:1})]),_:1})]),_:1}),U((p(),c(z,{data:(v=g.value)==null?void 0:v.data},{default:t(()=>[e(s,{label:"\u540D\u79F0",prop:"name"}),e(s,{label:"\u5730\u5740",prop:"url"}),e(s,{label:"\u6743\u91CD",prop:"order"}),e(s,{label:"\u72B6\u6001",prop:"isPublish"},{default:t(l=>[l.row.isPublish?(p(),c(E,{key:0,type:"success"},{default:t(()=>[f("\u516C\u5F00")]),_:1})):w("",!0),l.row.isPublish?w("",!0):(p(),c(E,{key:1,type:"danger"},{default:t(()=>[f("\u9690\u85CF")]),_:1}))]),_:1}),e(s,{label:"\u64CD\u4F5C"},{default:t(l=>[e(m,null,{default:t(()=>[e(r,{icon:d(j),onClick:X=>C(l.row)},null,8,["icon","onClick"]),e(r,{icon:d(q),type:"danger"},null,8,["icon"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[D,_.value]]),e(T,{background:"",small:"",layout:"prev, pager, next","current-page":o.index,"onUpdate:current-page":a[2]||(a[2]=l=>o.index=l),total:(b=g.value)==null?void 0:b.total,"page-size":o.pageSize,"onUpdate:page-size":a[3]||(a[3]=l=>o.pageSize=l)},null,8,["current-page","total","page-size"])]}),_:1})}}});export{H as default};
