import{d as I,k as A,a as b,r as R,l as q,P as L,n as M,h as o,i as U,o as d,p,f as e,e as t,q as _,s as j,j as r,t as G,w as H,v as h,x as v,c as x,F as k,y,b as F}from"./index.c2955009.js";import{t as J,p as K}from"./ElConfig.eb5931ef.js";const O=F("div",{class:"card-header"},[F("span",{class:"title"},"\u6587\u7AE0")],-1),Y=I({__name:"Index",setup(Q){const w=A(),m=b(),T=l=>{window.open(`/post/${l}.html`)},g=l=>{console.log(l),l?w.push({path:"/admin/post-edit",query:{id:l}}):w.push({path:"/admin/post-edit"})},n=R({index:1,size:15,total:0}),f=b(!1);q(()=>n.index,()=>E());const E=()=>{f.value=!0,L.list({pageSize:n.size,index:n.index}).then(l=>{m.value=[],n.total=0,l.data&&(m.value.push(...l.data),n.total=l.total)}).finally(()=>{f.value=!1})};return M(()=>{E()}),(l,i)=>{const D=o("el-button"),C=o("ElButton"),c=o("ElSpace"),V=o("ElCol"),N=o("ElRow"),u=o("ElTableColumn"),B=o("ElTag"),P=o("ElTable"),S=o("ElPagination"),$=o("ElCard"),z=U("loading");return d(),p($,null,{header:e(()=>[O]),default:e(()=>[t(N,null,{default:e(()=>[t(V,null,{default:e(()=>[t(c,null,{default:e(()=>[t(D,{icon:_(j),onClick:i[0]||(i[0]=a=>g(null)),type:"primary"},{default:e(()=>[r("\u5199\u4E00\u7BC7")]),_:1},8,["icon"]),t(C,{icon:_(G),onClick:i[1]||(i[1]=a=>E())},{default:e(()=>[r("\u5237\u65B0")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1}),H((d(),p(P,h({data:m.value},_(J)),{default:e(()=>[t(u,{label:"\u6807\u9898",prop:"title"},{default:e(a=>[t(C,{type:"primary",link:"",onClick:s=>T(a.row.id)},{default:e(()=>[r(v(a.row.title),1)]),_:2},1032,["onClick"])]),_:1}),t(u,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"lastUpdateTime",width:"180"}),t(u,{label:"\u5206\u7C7B",width:"120",prop:"cates"},{default:e(a=>[t(c,{wrap:""},{default:e(()=>[(d(!0),x(k,null,y(a.row.cateItems,s=>(d(),p(B,{key:s.id},{default:e(()=>[r(v(s.cateName),1)]),_:2},1024))),128))]),_:2},1024)]),_:1}),t(u,{label:"\u6807\u7B7E",width:"120"},{default:e(a=>[t(c,{wrap:""},{default:e(()=>[(d(!0),x(k,null,y(a.row.tagItems,s=>(d(),p(B,{key:s.id},{default:e(()=>[r(v(s.tagName),1)]),_:2},1024))),128))]),_:2},1024)]),_:1}),t(u,{label:"\u9605\u8BFB\u4EBA\u6570",width:"80",prop:"readCount"}),t(u,{label:"\u8BC4\u8BBA",width:"80",prop:"commentCount"}),t(u,{label:"\u64CD\u4F5C",width:"150"},{default:e(a=>[t(c,null,{default:e(()=>[t(C,{size:"small",onClick:s=>g(a.row.id)},{default:e(()=>[r("\u7F16\u8F91")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},16,["data"])),[[z,f.value]]),t(S,h(_(K),{total:n.total,modelValue:n.index,"onUpdate:modelValue":i[2]||(i[2]=a=>n.index=a)}),null,16,["total","modelValue"])]),_:1})}}});export{Y as default};
