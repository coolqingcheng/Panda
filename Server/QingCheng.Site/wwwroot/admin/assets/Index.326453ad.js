import{d as z,k as I,a as b,r as A,l as R,P as q,n as L,h as o,i as M,o as d,p,f as e,e as t,q as _,s as U,j as r,t as j,w as G,v as h,x as v,c as x,F as k,y,b as H}from"./index.5c376344.js";import{t as J,p as K}from"./ElConfig.eb5931ef.js";const O=H("div",{class:"card-header"}," \u6587\u7AE0 ",-1),Y=z({__name:"Index",setup(Q){const w=I(),m=b(),F=l=>{window.open(`/post/${l}.html`)},g=l=>{console.log(l),l?w.push({path:"/admin/post-edit",query:{id:l}}):w.push({path:"/admin/post-edit"})},n=A({index:1,size:15,total:0}),f=b(!1);R(()=>n.index,()=>E());const E=()=>{f.value=!0,q.list({pageSize:n.size,index:n.index}).then(l=>{m.value=[],n.total=0,l.data&&(m.value.push(...l.data),n.total=l.total)}).finally(()=>{f.value=!1})};return L(()=>{E()}),(l,i)=>{const T=o("el-button"),C=o("ElButton"),c=o("ElSpace"),D=o("ElCol"),V=o("ElRow"),u=o("ElTableColumn"),B=o("ElTag"),N=o("ElTable"),P=o("ElPagination"),S=o("ElCard"),$=M("loading");return d(),p(S,null,{header:e(()=>[O]),default:e(()=>[t(V,null,{default:e(()=>[t(D,null,{default:e(()=>[t(c,null,{default:e(()=>[t(T,{icon:_(U),onClick:i[0]||(i[0]=a=>g(null)),type:"primary"},{default:e(()=>[r("\u5199\u4E00\u7BC7")]),_:1},8,["icon"]),t(C,{icon:_(j),onClick:i[1]||(i[1]=a=>E())},{default:e(()=>[r("\u5237\u65B0")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1}),G((d(),p(N,h({data:m.value},_(J)),{default:e(()=>[t(u,{label:"\u6807\u9898",prop:"title"},{default:e(a=>[t(C,{type:"primary",link:"",onClick:s=>F(a.row.id)},{default:e(()=>[r(v(a.row.title),1)]),_:2},1032,["onClick"])]),_:1}),t(u,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"lastUpdateTime",width:"180"}),t(u,{label:"\u5206\u7C7B",width:"120",prop:"cates"},{default:e(a=>[t(c,{wrap:""},{default:e(()=>[(d(!0),x(k,null,y(a.row.cateItems,s=>(d(),p(B,{key:s.id},{default:e(()=>[r(v(s.cateName),1)]),_:2},1024))),128))]),_:2},1024)]),_:1}),t(u,{label:"\u6807\u7B7E",width:"120"},{default:e(a=>[t(c,{wrap:""},{default:e(()=>[(d(!0),x(k,null,y(a.row.tagItems,s=>(d(),p(B,{key:s.id},{default:e(()=>[r(v(s.tagName),1)]),_:2},1024))),128))]),_:2},1024)]),_:1}),t(u,{label:"\u9605\u8BFB\u4EBA\u6570",width:"80",prop:"readCount"}),t(u,{label:"\u8BC4\u8BBA",width:"80",prop:"commentCount"}),t(u,{label:"\u64CD\u4F5C",width:"150"},{default:e(a=>[t(c,null,{default:e(()=>[t(C,{size:"small",onClick:s=>g(a.row.id)},{default:e(()=>[r("\u7F16\u8F91")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},16,["data"])),[[$,f.value]]),t(P,h(_(K),{total:n.total,modelValue:n.index,"onUpdate:modelValue":i[2]||(i[2]=a=>n.index=a)}),null,16,["total","modelValue"])]),_:1})}}});export{Y as default};
