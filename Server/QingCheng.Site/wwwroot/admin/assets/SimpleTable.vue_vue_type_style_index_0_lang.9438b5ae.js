import{d as w,a as k,r as g,s as y,l as B,o as f,c as T,e as t,f as l,w as D,t as R,v as F,x as U,y as $,F as h,z as M,h as s,i as N}from"./index.42ecf877.js";const V=w({__name:"SimpleTable",props:{url:String},setup(m,{expose:v}){const E=m,d=k(!1),r=g({total:0,data:[]}),a=g({index:1,pageSize:10});let c={};const i=()=>{var o,e;d.value=!0,(e=M.axios)==null||e.get((o=E.url)!=null?o:"",{params:{...a,...c}}).then(n=>{console.log(n),n.data&&(r.total=n.data.total,r.data=n.data.data)}).finally(()=>{d.value=!1})};y(()=>a,()=>{i()},{deep:!0});const x=o=>{c={},c={...o},i()};return B(()=>{i()}),v({loadData:i,setConditionReload:x}),(o,e)=>{const n=s("ElTable"),u=s("ElCol"),_=s("ElRow"),z=s("el-pagination"),S=s("ElButton"),C=s("ElSpace"),b=N("loading");return f(),T(h,null,[t(_,null,{default:l(()=>[t(u,null,{default:l(()=>[D((f(),R(n,{data:r.data,border:!0},{default:l(()=>[F(o.$slots,"default")]),_:3},8,["data"])),[[b,d.value]])]),_:3})]),_:3}),t(_,null,{default:l(()=>[t(u,null,{default:l(()=>[t(C,{class:"m-top-20"},{default:l(()=>[t(z,{"page-sizes":[10,20,50,100],background:"",layout:"total,prev, pager, next,sizes",total:r.total,"current-page":a.index,"onUpdate:current-page":e[0]||(e[0]=p=>a.index=p),"page-size":a.pageSize,"onUpdate:page-size":e[1]||(e[1]=p=>a.pageSize=p)},null,8,["total","current-page","page-size"]),t(S,{icon:U($),onClick:e[2]||(e[2]=p=>i())},null,8,["icon"])]),_:1})]),_:1})]),_:1})],64)}}});export{V as _};
