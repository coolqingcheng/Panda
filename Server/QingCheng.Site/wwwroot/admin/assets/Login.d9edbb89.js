import{d as V,u as A,r as C,a as m,c as p,b as c,w as D,e as o,f as l,g as F,F as B,h as n,i as N,o as _,j as E,A as k,E as x,m as h}from"./index.c2955009.js";const M=c("div",{class:"login-wrapper"},null,-1),S={class:"login-page"},T={class:"login-box"},R=V({__name:"Login",setup(q){const f=A(),t=C({userName:"",pwd:"",validCode:""}),s=m(!1),d=m(),g={userName:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],pwd:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}]},v=()=>{var i;s.value=!0,(i=d.value)==null||i.validate(e=>{e?k.login({body:t}).then(u=>{f.setToken(u.token),x({message:"\u767B\u5F55\u6210\u529F",type:"success"}),h.replace("/admin")}).finally(()=>{s.value=!1}):(console.log("\u9A8C\u8BC1\u5931\u8D25"),setTimeout(()=>{s.value=!1},3e3))})};return(i,e)=>{const u=n("el-input"),r=n("el-form-item"),b=n("el-button"),w=n("el-form"),y=N("loading");return _(),p(B,null,[M,c("div",S,[D((_(),p("div",T,[o(w,{model:t,"label-width":"",rules:g,ref_key:"form",ref:d,onSubmit:e[3]||(e[3]=F(()=>{},["prevent"]))},{default:l(()=>[o(r,{label:"",prop:"userName"},{default:l(()=>[o(u,{placeholder:"\u8F93\u5165\u7528\u6237\u540D",modelValue:t.userName,"onUpdate:modelValue":e[0]||(e[0]=a=>t.userName=a)},null,8,["modelValue"])]),_:1}),o(r,{label:"",prop:"passWord"},{default:l(()=>[o(u,{placeholder:"\u8F93\u5165\u5BC6\u7801",type:"password",modelValue:t.pwd,"onUpdate:modelValue":e[1]||(e[1]=a=>t.pwd=a)},null,8,["modelValue"])]),_:1}),o(r,null,{default:l(()=>[o(b,{"native-type":"submit",onClick:e[2]||(e[2]=a=>v()),type:"primary",class:"login-btn"},{default:l(()=>[E(" \u767B\u5F55 ")]),_:1})]),_:1})]),_:1},8,["model"])])),[[y,s.value]])])],64)}}});export{R as default};
